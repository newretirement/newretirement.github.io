"use strict";(self.webpackChunkdevportal=self.webpackChunkdevportal||[]).push([[49],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>d});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),s=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=r,h=u["".concat(o,".").concat(d)]||u[d]||c[d]||i;return n?a.createElement(h,p(p({ref:t},m),{},{components:n})):a.createElement(h,p({ref:t},m))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,p=new Array(i);p[0]=u;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:r,p[1]=l;for(var s=2;s<i;s++)p[s]=n[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3542:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>p,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));n(8209);const i={},p="MIRP (My Interactive Retirement Planner)",l={unversionedId:"apis/fpe/nationwide/mirp",id:"apis/fpe/nationwide/mirp",title:"MIRP (My Interactive Retirement Planner)",description:"This page describes the logic for estimating post-retirement expenses within the Nationwide MIRP application.  The MIRP logic is relevant to the POST /v5/forecast endpoint, and is conditionally activated when the plan.nationwide.mirp request object is present and correctly configured within the FPE plan, as shown below:",source:"@site/docs/apis/fpe/nationwide/mirp.md",sourceDirName:"apis/fpe/nationwide",slug:"/apis/fpe/nationwide/mirp",permalink:"/docs/apis/fpe/nationwide/mirp",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Nationwide",permalink:"/docs/apis/fpe/nationwide/overview"},next:{title:"LIB (lifetime Income Builder)",permalink:"/docs/apis/fpe/nationwide/nwlib"}},o={},s=[{value:"MIRP Request Object",id:"mirp-request-object",level:2},{value:"Algorithm Description",id:"algorithm-description",level:2},{value:"<strong>STEP 1</strong>: Calculate take-home pay",id:"step-1-calculate-take-home-pay",level:3},{value:"<strong>STEP 2</strong>: Apply the Replacement Ratio",id:"step-2-apply-the-replacement-ratio",level:3},{value:"<strong>STEP 3</strong>: Assert the post-retirement expense",id:"step-3-assert-the-post-retirement-expense",level:3}],m={toc:s};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"mirp-my-interactive-retirement-planner"},"MIRP (My Interactive Retirement Planner)"),(0,r.kt)("p",null,"This page describes the logic for estimating post-retirement expenses within the Nationwide MIRP application.  The MIRP logic is relevant to the ",(0,r.kt)("a",{parentName:"p",href:"/docs/apis/fpe/overview#post-v5forecast"},"POST /v5/forecast")," endpoint, and is conditionally activated when the ",(0,r.kt)("inlineCode",{parentName:"p"},"plan.nationwide.mirp")," request object is present and correctly configured within the FPE ",(0,r.kt)("a",{parentName:"p",href:"/docs/apis/fpe/datatypes#plan"},"plan"),", as shown below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'POST /v5/forecast\n{\n    "plan": {\n        "nationwide": {\n            "mirp": {\n                "replacementRate": 0.85,\n                "postRetireExpenseStream": "myRetirementExpenses"\n            }\n        },\n        ...\n    }\n}\n')),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"mirp-request-object"},"MIRP Request Object"),(0,r.kt)("p",null,"The attributes for the MIRP calculation request attributes are defined in the table below:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"replacementRate")),(0,r.kt)("td",{parentName:"tr",align:null},"float"),(0,r.kt)("td",{parentName:"tr",align:null},"A rate in the range ",(0,r.kt)("inlineCode",{parentName:"td"},"[0.0, 1.0]")," that represents the percentage of a household\u2019s annual employment income that is replaced by retirement income when they retire.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"postRetireExpenseStream")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the ",(0,r.kt)("a",{parentName:"td",href:"/docs/apis/fpe/datatypes#paymentstream"},"payentStream")," to which FPE will assign the calculated post-retirement expense amount.  Minimally, this object must:",(0,r.kt)("ul",null,(0,r.kt)("li",null,"be configured to represent an ",(0,r.kt)("a",{parentName:"td",href:"/docs/apis/fpe/terms#expense-stream"},"expense stream")," having ",(0,r.kt)("a",{parentName:"td",href:"/docs/apis/fpe/terms#periodic-payment"},"periodic payments")),(0,r.kt)("li",null,"include a ",(0,r.kt)("inlineCode",{parentName:"td"},"startDate")," (which the algorithm uses as the person\u2019s retirement date)")))))),(0,r.kt)("p",null,"Example JSON requests containing the ",(0,r.kt)("inlineCode",{parentName:"p"},"nationwide.mirp{}")," data object can be found in the ",(0,r.kt)("a",{parentName:"p",href:"./examples/mirp/"},"./examples/mirp/")," subdirectory."),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"algorithm-description"},"Algorithm Description"),(0,r.kt)("p",null,"This section describes the steps for determining the plan\u2019s estimated post-retirement expenses."),(0,r.kt)("p",null,"Let P = a valid FPE ",(0,r.kt)("a",{parentName:"p",href:"/docs/apis/fpe/datatypes#plan"},"plan"),"."),(0,r.kt)("p",null,"Let D",(0,r.kt)("sub",null,"curr")," = the current date (specified by ",(0,r.kt)("a",{parentName:"p",href:"/docs/apis/fpe/datatypes#plan"},"plan.currentDate"),")."),(0,r.kt)("p",null,"Let D",(0,r.kt)("sub",null,"ret")," = the desired retirement date, indicated by the ",(0,r.kt)("inlineCode",{parentName:"p"},"startDate")," of the ",(0,r.kt)("a",{parentName:"p",href:"#mirp-request-object"},"postRetireExpenseStream")," defined in the request."),(0,r.kt)("br",null),(0,r.kt)("h3",{id:"step-1-calculate-take-home-pay"},(0,r.kt)("strong",{parentName:"h3"},"STEP 1"),": Calculate take-home pay"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.investopedia.com/terms/t/take-home-pay.asp"},"Take-home pay")," is the net amount of income received after the deduction of taxes, benefits, and voluntary contributions from a paycheck.  Within plan P, the take-home pay at ",(0,r.kt)("u",null,"1 month prior")," to D",(0,r.kt)("sub",null,"ret")," is determined as follows:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Let P\u2032 = a copy of plan P."),(0,r.kt)("li",{parentName:"ol"},"Remove all user-defined ",(0,r.kt)("a",{parentName:"li",href:"/docs/apis/fpe/terms#expense-stream"},"expenses")," from P\u2032."),(0,r.kt)("li",{parentName:"ol"},"Remove all income from P\u2032 that does not qualify as ",(0,r.kt)("a",{parentName:"li",href:"https://www.investopedia.com/terms/e/earnedincome.asp"},"earned income")," (social security, RMDs, pensions, passive income, etc.)."),(0,r.kt)("li",{parentName:"ol"},"If D",(0,r.kt)("sub",null,"curr")," >= December of the year preceding D",(0,r.kt)("sub",null,"ret"),", then:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If D",(0,r.kt)("sub",null,"curr")," falls on a December:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"D",(0,r.kt)("sub",null,"ret")," = January of 2 years following D",(0,r.kt)("sub",null,"curr")))),(0,r.kt)("li",{parentName:"ul"},"Otherwise:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"D",(0,r.kt)("sub",null,"ret")," = January of the year immediately following D",(0,r.kt)("sub",null,"curr")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("i",null,"NOTE: The above logic is for dealing with the cases where a person either retired: 1) in the past, or 2) within a year of D",(0,r.kt)("sub",null,"curr"),".")))),(0,r.kt)("li",{parentName:"ol"},"Set ",(0,r.kt)("a",{parentName:"li",href:"/docs/apis/fpe/datatypes#paymentstream"},"endDate")," to D",(0,r.kt)("sub",null,"ret")," for all earned income streams in P\u2032."),(0,r.kt)("li",{parentName:"ol"},"Set ",(0,r.kt)("a",{parentName:"li",href:"/docs/apis/fpe/datatypes#cashflow"},"plan.cashFlow.savingRate")," to 0% in P\u2032."),(0,r.kt)("li",{parentName:"ol"},"Run the ",(0,r.kt)("a",{parentName:"li",href:"/docs/apis/fpe/overview#post-v5forecast"},"forecast")," for P\u2032, and then obtain the ",(0,r.kt)("a",{parentName:"li",href:"/docs/apis/fpe/output_streams#paymentstream-projections"},"@unsaved_surplus")," amount in the month prior to D",(0,r.kt)("sub",null,"ret"),". ",(0,r.kt)("b",null,"This amount respresents the combined take-home pay for primary and spouse."))),(0,r.kt)("h3",{id:"step-2-apply-the-replacement-ratio"},(0,r.kt)("strong",{parentName:"h3"},"STEP 2"),": Apply the Replacement Ratio"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Let ",(0,r.kt)("inlineCode",{parentName:"li"},"r")," = the replacement ratio provided by ",(0,r.kt)("a",{parentName:"li",href:"#mirp-request-object"},"replacementRate")," within the request."),(0,r.kt)("li",{parentName:"ol"},"Let ",(0,r.kt)("inlineCode",{parentName:"li"},"i")," = the combined take-home pay determined at the end of ",(0,r.kt)("strong",{parentName:"li"},"STEP 1")," above."),(0,r.kt)("li",{parentName:"ol"},"The post-retirement estimated expenses are then calculated as ",(0,r.kt)("inlineCode",{parentName:"li"},"r \xd7 i"),".")),(0,r.kt)("h3",{id:"step-3-assert-the-post-retirement-expense"},(0,r.kt)("strong",{parentName:"h3"},"STEP 3"),": Assert the post-retirement expense"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Now that the post-retirement estimated expenses are known, assign this amount to the ",(0,r.kt)("inlineCode",{parentName:"li"},"paymentAmount")," attribute of the ",(0,r.kt)("a",{parentName:"li",href:"/docs/apis/fpe/datatypes#paymentstream"},"payentStream")," referred to by ",(0,r.kt)("inlineCode",{parentName:"li"},"nationwide.mirp.postRetireExpenseStream")," within the original plan P."),(0,r.kt)("li",{parentName:"ul"},"Re-run the ",(0,r.kt)("a",{parentName:"li",href:"/docs/apis/fpe/overview#post-v5forecast"},"POST /v5/forecast")," using P as the request object; the resulting forecast will then take into account the plan\u2019s post-retirement expenses.")))}c.isMDXComponent=!0},8209:(e,t,n)=>{n(7294)}}]);